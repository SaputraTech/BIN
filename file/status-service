#!/bin/bash

skt_crons=$(systemctl status cron | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_nginx=$(systemctl status nginx | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_udpgw=$(systemctl status udp-mini-1 | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_tun=$(systemctl status ssh | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_udp=$(systemctl status udp-custom | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_hap=$(systemctl status haproxy | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_drop=$(systemctl status dropbear | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_ws=$(systemctl status ws | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_xray=$(systemctl status xray | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)
skt_fail2ban=$(systemctl status fail2ban | grep Active | awk '{print $3}' | cut -d "(" -f2 | cut -d ")" -f1)

####################################
if [[ ${skt_crons} == "running" ]]; then
   skarti_crons="âš¡ ONLINE"
else
   skarti_crons="â›” OFFLINE"
fi

if [[ ${skt_nginx} == "running" ]]; then
   skarti_nginx="âš¡ ONLINE"
else
   skarti_nginx="â›” OFFLINE"
fi

if [[ ${skt_udpgw} == "running" ]]; then
   skarti_udpgw="âš¡ ONLINE"
else
   skarti_udpgw="âŒâ›” OFFLINE"
fi

if [[ ${skt_tun} == "running" ]]; then
   skarti_tun="âš¡ ONLINE"
else
   skarti_tun="â›” OFFLINE"
fi

if [[ ${skt_udp} == "running" ]]; then
   skarti_udp="âš¡ ONLINE"
else
   skarti_udp="â›” OFFLINE"
fi

if [[ ${skt_hap} == "running" ]]; then
   skarti_haproxy="âš¡ ONLINE"
else
   skarti_haproxy="â›” OFFLINE"
fi

if [[ ${skt_drop} == "running" ]]; then
   skarti_dropbear="âš¡ ONLINE"
else
   skarti_dropbear="â›” OFFLINE"
fi

if [[ ${skt_ws} == "running" ]]; then
   skarti_websocket="âš¡ ONLINE"
else
   skarti_websocket="â›” OFFLINE"
fi

if [[ ${skt_xray} == "running" ]]; then
   skarti_xray="âš¡ ONLINE"
else
   skarti_xray="â›” OFFLINE"
fi

if [[ ${skt_fail2ban} == "running" ]]; then
   skarti_fail2ban="âš¡ ONLINE"
else
   skarti_fail2ban="â›” OFFLINE"
fi


####################################
echo -e "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo -e " ğŸ€ Status of System Services ğŸ€"
echo -e "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo -e "â CRONS          : $skarti_crons"
echo -e "â NGINX          : $skarti_nginx"
echo -e "â UDPGW          : $skarti_udpgw"
echo -e "â SSH TUN        : $skarti_tun"
echo -e "â SSH UDP        : $skarti_udp"
echo -e "â HAPROXY        : $skarti_haproxy"
echo -e "â DROPBEAR       : $skarti_dropbear"
echo -e "â FAIL2BAN       : $skarti_fail2ban"
echo -e "â WEBSOCKET      : $skarti_websocket"
echo -e "â XRAY VMESS     : $skarti_xray"
echo -e "â XRAY VLESS     : $skarti_xray"
echo -e "â XRAY TROJAN    : $skarti_xray"